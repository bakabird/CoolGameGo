"use strict";var t,e,n="[UMENG] -- ",a=(e=!1,function(){null===t&&(t=new i);return t});function i(){this.setDebug=function(t){e=t};this.d=function(){if(e)try{"string"==typeof arguments[0]&&(arguments[0]=n+arguments[0]);console.debug.apply(console,arguments)}catch(t){}};this.i=function(){try{if(e)try{"string"==typeof arguments[0]&&(arguments[0]=n+arguments[0]);console.info.apply(console,arguments)}catch(t){}}catch(t){}};this.e=function(){if(e)try{"string"==typeof arguments[0]&&(arguments[0]=n+arguments[0]);console.error.apply(console,arguments)}catch(t){}};this.w=function(){if(e)try{"string"==typeof arguments[0]&&(arguments[0]=n+arguments[0]);console.warn.apply(console,arguments)}catch(t){}};this.v=function(){if(e)try{"string"==typeof arguments[0]&&(arguments[0]=n+arguments[0]);console.log.apply(console,arguments)}catch(t){}};this.t=function(){if(e)try{console.table.apply(console,arguments)}catch(t){}};this.tip=function(){try{"string"==typeof arguments[0]&&(arguments[0]=n+arguments[0]);console.log.apply(console,arguments)}catch(t){}};this.tip_w=function(t){try{console.log("%c "+n+t,"background:red; padding: 4px; padding-right: 8px; border-radius: 4px; color: #fff;")}catch(t){}};this.err=function(){try{"string"==typeof arguments[0]&&(arguments[0]=n+arguments[0]);console.error.apply(console,arguments)}catch(t){}}}var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function o(t,e){r(t,e);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=t=null,u=new(function(t){o(e,t);function e(){return null!==t&&t.apply(this,arguments)||this}e.prototype.getSdkType=function(){return"ttgamemp"};e.prototype.getPlatform=function(){return"tt"};return e}(function(){function t(){}t.prototype.setStorage=function(e,t,n){tt.setStorage({key:e,data:t,success:function(t){"function"==typeof n&&n(!0)},fail:function(t){a().w(e+": "+t.errMsg);"function"==typeof n&&n(!1)}})};t.prototype.getStorage=function(e,n){tt.getStorage({key:e,success:function(t){"function"==typeof n&&n(t.data)},fail:function(t){a().w(e+": "+t.errMsg);"function"==typeof n&&n()}})};t.prototype.removeStorage=function(t,e){tt.removeStorage({key:t,success:function(){"function"==typeof e&&e(!0)},fail:function(){"function"==typeof e&&e(!1)}})};t.prototype.getSystemInfo=function(i){tt.getSystemInfo({success:function(t){var e={model:t.model,brand:t.brand,pixelRatio:t.pixelRatio,screenWidth:t.screenWidth,screenHeight:t.screenHeight,fontSizeSetting:t.fontSizeSetting,platform:t.platform,platformVersion:t.version,platformSDKVersion:t.SDKVersion,language:t.language,deviceName:t.model},n=t.system.split(" ");if(Array.isArray(n)){e.OS=n[0];e.OSVersion=n[1]}n=Math.round(t.screenWidth*t.pixelRatio),t=Math.round(t.screenHeight*t.pixelRatio);e.resolution=t<n?n+"*"+t:t+"*"+n;"function"==typeof i&&i(e)},fail:function(){"function"==typeof i&&i()}})};t.prototype.getDeviceInfo=function(t){"function"==typeof t&&t()};t.prototype.checkNetworkAvailable=function(e){tt.getNetworkType({success:function(t){"function"==typeof e&&e(t&&"none"!==t.networkType)},fail:function(){"function"==typeof e&&e()}})};t.prototype.getNetworkInfo=function(e){tt.getNetworkType({success:function(t){"function"==typeof e&&e(t)},fail:function(){"function"==typeof e&&e()}})};t.prototype.onNetworkStatusChange=function(e){tt.onNetworkStatusChange(function(t){"function"==typeof e&&e("none"!==t.networkType)})};t.prototype.request=function(t){var e=(t=t||{}).success,n=t.fail,i=!1,r=null;t.success=function(t){if(!i){r&&clearTimeout(r);"function"==typeof e&&e(t)}};t.fail=function(){if(!i){r&&clearTimeout(r);"function"==typeof n&&n()}};tt.request(t);r=setTimeout(function(){r&&clearTimeout(r);i=!0;"function"==typeof n&&n(i)},t.timeout||5e3)};t.prototype.getDeviceId=function(t){t("")};t.prototype.getAdvertisingId=function(t){"function"==typeof t&&t("")};t.prototype.getSdkType=function(){return"ttmp"};t.prototype.getPlatform=function(){return"tt"};t.prototype.connectSocket=function(t){s=s||tt.connectSocket(t)};t.prototype.closeSocket=function(t){s&&s.close(t)};t.prototype.sendSocketMessage=function(t){s&&s.send(t)};t.prototype.onSocketOpen=function(t){s&&s.onOpen(t)};t.prototype.onSocketClose=function(t){s&&s.onClose(t)};t.prototype.onSocketMessage=function(t){s&&s.onMessage(t)};t.prototype.onSocketError=function(t){s&&s.onError(t)};t.prototype.getClipboard=function(e){try{tt.getClipboardData({success:function(t){"function"==typeof e&&e(t.data)},fail:function(t){a().e("getClipboardData调用失败",t);"function"==typeof e&&e("")}})}catch(t){a.e("读取clipboard发生错误",t)}};t.prototype.showModal=function(t){try{tt.showModal(t)}catch(t){a.e("展示Modal时发生错误",t)}};t.prototype.showToast=function(t){try{tt.showToast(t)}catch(t){a.e("showToast error",t)}};t.prototype.getUserInfo=function(n){var e={fail:function(){n&&n()},success:function(t){try{var e=t.userInfo;e&&n&&n({avatar:e.avatarUrl,nickName:e.nickName,gender:e.gender,country:e.country,province:e.province,city:e.city,language:e.language})}catch(t){n&&n()}}};try{tt.getSetting({success:function(t){t.authSetting["scope.userInfo"]&&tt.getUserInfo(e)},fail:function(){n&&n()}})}catch(t){a.e("getUserInfo error",t)}};t.prototype.getAppInfoSync=function(){return{}};t.prototype.onShareAppMessage=function(t){tt.onShareAppMessage(t)};t.prototype.shareAppMessage=function(t){tt.shareAppMessage(t)};return t}())),c={SESSION_INTERVAL:3e4,LOG_URL:"https://umini.shujupie.com/bytedancem_logs",GET_OPENID_URL:"https://umini.shujupie.com/uminiprogram_logs/bytedance/getuut",USERINFO_URL:"https://umini.shujupie.com/uminiprogram_logs/comm/uif",DEVICE_INFO_KEY:"device_info",ADVERTISING_ID:"mobile_ad_id",ANDROID_ID:"android_id",CURRENT_SESSION:"current_session",SESSION_PAUSE_TIME:"session_pause_time",EVENT_SEND_DEFAULT_INTERVAL:15e3,EVENT_LAST_SEND_TIME:"last_send_time",MAX_EVENTID_LENGTH:128,MAX_PROPERTY_KEY_LENGTH:256,MAX_PROPERTY_KEYS_COUNT:100,REPORT_POLICY:"report_policy",REPORT_INTERVAL_TIME:"report_interval_time",REPORT_POLICY_START_SEND:"1",REPORT_POLICY_INTERVAL:"6",IMPRINT:"imprint",SEED_VERSION:"1.0.0",IMPL_VERSION:"2.4.11",ALIPAY_AVAILABLE_VERSION:"10.1.52",SHARE_PATH:"um_share_path",SHARES:"shares",REQUESTS:"requests",UUID:"um_uuid",UUID_SUFFIX:"ud",OPENID:"um_od",UNIONID:"um_unid",ALIPAYID:"um_alipayid",USERID:"um_userid",PROVIDER:"um_provider",SWANID:"um_swanid",ANONYMOUSID:"um_anonymousid",LAUNCH_OPTIONS:"LAUNCH_OPTIONS",UM_SSRC:"_um_ssrc",USER_INFO:"user_info",IS_ALIYUN:!1,ALIYUN_URL:"serverless.huoban.youmeng.network.forward"};var f,p,d={isNumber:function(t){return!Number.isNaN(parseInt(t,10))},compareVersion:function(t,e){for(var n=String(t).split("."),i=String(e).split("."),r=0;r<Math.max(n.length,i.length);r++){var o=parseInt(n[r]||0,10),s=parseInt(i[r]||0,10);if(s<o)return 1;if(o<s)return-1}return 0},getRandomStr:function(t){for(var e="",n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],i=0;i<Number(t);i++)e+=n[Math.round(Math.random()*(n.length-1))];return e},clone:function(t){return JSON.parse(JSON.stringify(t))},startsWith:function(t,e){return!(!t||!e||0===e.length||e.length>t.length)&&t.substr(0,e.length)===e},endsWith:function(t,e){return!(!e||0===t.length||e.length>t.length)&&t.substring(t.length-e.length)===e},assign:function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},deepEqual:function t(e,n){if(e===n)return!0;if(e&&"object"==typeof e&&n&&"object"==typeof n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(var i in e){if(Object.prototype.hasOwnProperty.call(n,i))return!1;if(!t(e[i],n[i]))return!1}return!0}return!1},trimStart:function(t,e){if(!t)return"";if("string"==typeof e&&e.length){e=new RegExp("^"+e+"*");t=t.replace(e,"")}else t=t.replace(/^s*/,"");return t},trimEnd:function(t,e){if(!t)return"";var n,i;if("string"==typeof e&&e.length){n=new RegExp(e);i=t.length;for(;n.test(t.charAt(i));)--i;return t.slice(0,i+1)}n=/s/;i=t.length-1;for(;n.test(t.charAt(i));)--i;return t.slice(0,i+1)}},l=function(){function t(){this._uuid="";this._userid="";this._provider="";this._idType=""}t.prototype.createUUID=function(){return d.getRandomStr(10)+Date.now()+d.getRandomStr(7)+c.UUID_SUFFIX};t.prototype.initUUID=function(e){var n=this;u.getStorage(c.UUID,function(t){if(t)n._uuid=t;else{n._uuid=n.createUUID();u.setStorage(c.UUID,n._uuid)}e&&e(t)})};t.prototype.initUserid=function(){var e=this;u.getStorage(c.USERID,function(t){if(!e._userid&&t){e._userid=t;a().v("userId is ",t)}});u.getStorage(c.PROVIDER,function(t){if(!e._provider&&t){e._provider=t;a().v("provider is ",t)}})};t.prototype.init=function(t){var e=this;e.initUUID(function(){e.initUserid();e.initID(t)})};t.prototype.setUserid=function(t,e){if(!this._userid&&t){this._userid=t;this._provider=e;u.setStorage(c.USERID,t);u.setStorage(c.PROVIDER,e)}};t.prototype.getUserId=function(){return this._userid};t.prototype.getProvider=function(){return this._provider};t.prototype.getIdType=function(){return this._idType};t.prototype.getIdTracking=function(){var t={};this._uuid&&(t.uuid=this._uuid);this._userid&&(t.userid=this._userid);return t};return t}(),h=(function(e){o(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this;t._openid="";t._unionid="";t._useOpenid=!1;return t}t.prototype.initID=function(e){var n=this;n._idType=n._useOpenid?"openid":"uuid";a().v("id type: ",n._idType);u.getStorage(c.UNIONID,function(t){n._unionid=t});this._useOpenid?u.getStorage(c.OPENID,function(t){n._openid=t;e&&e()}):e&&e()};t.prototype.setUseOpenid=function(t){this._useOpenid=t};t.prototype.setOpenid=function(t){if(!this._openid&&t){this._openid=t;u.setStorage(c.OPENID,t)}};t.prototype.setUnionid=function(t){if(!this._unionid&&t){this._unionid=t;u.setStorage(c.UNIONID,t)}};t.prototype.getIdTracking=function(){var t=e.prototype.getIdTracking.call(this);this._openid&&(t.openid=this._openid);this._unionid&&(t.unionid=this._unionid);this._userid&&(t.userid=this._userid);return t};t.prototype.getId=function(){return this._useOpenid?this._openid:this._uuid}}(l),function(e){o(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this;t._unionid="";t._openid="";t._anonymousid="";t._useOpenid=!1;return t}t.prototype.getOpenIdAsync=function(e,n){var i=this;tt.login({force:!1,success:function(t){t?u.request({url:c.GET_OPENID_URL,method:"GET",data:{key:e,code:t.code||"",anonymous_code:t.anonymousCode||""},success:function(t){a().v("tt request ss ",t,c.GET_OPENID_URL);if(t&&200===t.statusCode&&t.data&&t.data.data){t=t.data.data;i.setOpenid(t.oid);i.setAnonymousid(t.nid);return n&&n(!0)}n&&n()},fail:function(t){a().v("tt request failed...",t);n&&n()}}):n&&n()},fail:function(t){a().v("tt login failed...",t);n&&n()}})};t.prototype.initID=function(e){var n=this;n._idType="anonymousid";a().v("id type: ",n._idType);u.getStorage(c.OPENID,function(t){n._openid=t});u.getStorage(c.ANONYMOUSID,function(t){n._anonymousid=t;e&&e()})};t.prototype.setUseOpenid=function(t){this._useOpenid=t};t.prototype.setOpenid=function(t){if(!this._openid&&t){this._openid=t;u.setStorage(c.OPENID,t)}};t.prototype.setAnonymousid=function(t){if(!this._anonymousid&&t){this._anonymousid=t;u.setStorage(c.ANONYMOUSID,t)}};t.prototype.getIdTracking=function(){var t=e.prototype.getIdTracking.call(this);this._openid&&(t.openid=this._openid);this._userid&&(t.userid=this._userid);this._anonymousid&&(t.anonymousid=this._anonymousid);return t};t.prototype.getId=function(){if(this._anonymousid){this._idType="anonymousid";return this._anonymousid}};return t}(l)),g=function(){return f=f||new h},y=(p=f=null,function(){return p=p||new v});function v(){var n={};this.useOpenid=function(){return!!n.useOpenid};this.useSwanid=function(){return!!n.useSwanid};this.autoGetOpenid=function(){return!!n.autoGetOpenid};this.appKey=function(){return n.appKey};this.uploadUserInfo=function(){return n.uploadUserInfo};this.enableVerify=function(){return n.enableVerify};this.set=function(t){n=t};this.get=function(){return n};this.setItem=function(t,e){n[t]=e};this.getItem=function(t){return n[t]}}var _={FETCH_URL:"https://ucc.umeng.com/v1/mini/fetch",ABLOG_URL:"https://pslog.umeng.com/mini_ablog",SDK_VERSION:"2.4.11",MOBILE_NETWORK_NONE:"none",MOBILE_NETWORK_2G:"2g",MOBILE_NETWORK_3G:"3g",MOBILE_NETWORK_4G:"4g",MOBILE_NETWORK_5G:"5g",MOBILE_NETWORK_WIFI:"wifi",IMPRINT:"imprint"},m={},l=Array.isArray;m.isArray=l||function(t){return"[object Array]"===toString.call(t)};m.isObject=function(t){return t===Object(t)&&!m.isArray(t)};m.isEmptyObject=function(t){if(m.isObject(t)){for(var e in t)if(hasOwnProperty.call(t,e))return!1;return!0}return!1};m.isUndefined=function(t){return void 0===t};m.isString=function(t){return"[object String]"===toString.call(t)};m.isDate=function(t){return"[object Date]"===toString.call(t)};m.isNumber=function(t){return"[object Number]"===toString.call(t)};m.each=function(t,e,n){if(null!=t){var i={},r=Array.prototype.forEach;if(r&&t.forEach===r)t.forEach(e,n);else if(t.length===+t.length){for(var o=0,s=t.length;o<s;o++)if(o in t&&e.call(n,t[o],o,t)===i)return}else for(var a in t)if(hasOwnProperty.call(t,a)&&e.call(n,t[a],a,t)===i)return}};m.buildQuery=function(t,e){var n,i,r=[];void 0===e&&(e="&");m.each(t,function(t,e){n=encodeURIComponent(t.toString());i=encodeURIComponent(e);r[r.length]=i+"="+n});return r.join(e)};m.JSONDecode=function(t){if(t){try{return JSON.parse(t)}catch(t){console.error("JSONDecode error",t)}return null}};m.JSONEncode=function(t){try{return JSON.stringify(t)}catch(t){console.error("JSONEncode error",t)}};var S,I,O,E,A={stringify:function(t){if(t)try{return JSON.stringify(t)}catch(t){}return""},parse:function(t){if(t)try{return JSON.parse(t)}catch(t){}return null},parseToArray:function(t){if(t)try{return JSON.parse(t)}catch(t){}return[]}},N=(I="",O=S=null,E=!1,function(){return S=S||new T});function T(){this.load=function(e){if(O){u.removeStorage(I);e()}else{I="um_cache_"+y().appKey();u.getStorage(I,function(t){O=A.parse(t)||{};E=!0;u.removeStorage(I);e()})}};this.save=function(){O&&u.setStorage(I,A.stringify(O))};this.set=function(t,e){O&&(O[t]=e)};this.get=function(t){return(O||{})[t]};this.remove=function(t){O&&O[t]&&delete O[t]};this.getAll=function(){return O};this.clear=function(){O=null};this.has=function(t){return!!this.get(t)};this.isLoaded=function(){return E}}function R(t){if(t.length<2)return(e=t.charCodeAt(0))<128?t:e<2048?M(192|e>>>6)+M(128|63&e):M(224|e>>>12&15)+M(128|e>>>6&63)+M(128|63&e);var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return M(240|e>>>18&7)+M(128|e>>>12&63)+M(128|e>>>6&63)+M(128|63&e)}function k(t){var e=[0,2,1][t.length%3],t=t.charCodeAt(0)<<16|(1<t.length?t.charCodeAt(1):0)<<8|(2<t.length?t.charCodeAt(2):0);return[L.charAt(t>>>18),L.charAt(t>>>12&63),2<=e?"=":L.charAt(t>>>6&63),1<=e?"=":L.charAt(63&t)].join("")}function U(t){return t.replace(C,R).replace(/[\s\S]{1,3}/g,k)}function b(t){switch(t.length){case 4:var e=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return M(55296+(e>>>10))+M(56320+(1023&e));case 3:return M((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return M((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}}function w(t){var e=t.length,n=e%4,t=(0<e?P[t.charAt(0)]<<18:0)|(1<e?P[t.charAt(1)]<<12:0)|(2<e?P[t.charAt(2)]<<6:0)|(3<e?P[t.charAt(3)]:0);(t=[M(t>>>16),M(t>>>8&255),M(255&t)]).length-=[0,0,2,1][n];return t.join("")}function D(t){return t.replace(/[\s\S]{1,4}/g,w).replace(V,b)}var L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P=function(t){for(var e={},n=0,i=t.length;n<i;n++)e[t.charAt(n)]=n;return e}(L),M=String.fromCharCode,C=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,V=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),j={encode:function(t,e){return e?U(String(t)).replace(/[+\/]/g,function(t){return"+"==t?"-":"_"}).replace(/=/g,""):U(String(t))},decode:function(t){return D(String(t).replace(/[-_]/g,function(t){return"-"==t?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))}};var G=new function(){var e="",n=this;this.set=function(t){e=t};this.get=function(){return e};this.getImpObj=function(){return A.parse(j.decode(e))};this.getItem=function(t){var e=n.getImpObj();return e&&e[t]||""};this.load=function(){e=N().get(c.IMPRINT)};this.save=function(){e&&N().set(c.IMPRINT,e)}},K=Object.create(null);function x(n){a().v("开始构建 fetch body");u.getSystemInfo(function(e){u.getNetworkInfo(function(t){t=(t=(t=t||{}).networkType)===_.MOBILE_NETWORK_NONE?"unknown":t.toUpperCase();K.access=t;!function(t,e){var n=t.brand||"";K.deviceType="Phone";K.sdkVersion=_.SDK_VERSION;K.appkey=y().appKey();K.sdkType=u.getSdkType();K.umid=g().getId();if(t){K.language=t.language||"";K.os=t.OS;K.osVersion=t.OSVersion;K.deviceName=t.deviceName;K.platformVersion=t.platformVersion;K.platformSdkVersion=t.platformSDKVersion;K.deviceBrand=n;t=t.resolution.split("*");if(m.isArray(t)){K.resolutionHeight=Number(t[0]);K.resolutionWidth=Number(t[1])}}!function(t){if(t){K.installTime=t.install_datetime&&Date.parse(t.install_datetime);K.scene=t.install_scene;K.channel=t.install_channel;K.campaign=t.install_campaign}}(G.getImpObj());e&&e(K)}(e,n)})})}function F(){this.listeners={};this.maxListener=2}F.prototype.addListener=F.prototype.on=function(t,e){var n=this.listeners;n[t]&&n[t].length>=this.maxListener?console.error("监听器的最大数量是%d,您已超出限制",this.maxListener):n[t]instanceof Array?-1===n[t].indexOf(e)&&n[t].push(e):n[t]=[].concat(e)};F.prototype.emit=function(t){var e=Array.prototype.slice.call(arguments);e.shift();var n=this.listeners;n[t]instanceof Array&&n[t].forEach(function(t){t.apply(null,e)})};F.prototype.listeners=function(t){return this.listeners[t]};F.prototype.setMaxListeners=function(t){this.maxListener=t};F.prototype.removeListener=function(t,e){var n=this.listeners,e=(n[t]||[]).indexOf(e);0<=e&&n[t].splice(e,1)};F.prototype.removeAllListener=function(t){this.listeners[t]=[]};F.prototype.once=function(n,i){var r=this;this.on(n,function t(){var e=Array.prototype.slice.call(arguments);i.apply(null,e);r.removeListener(n,t)})};var q=new F,H=0,Y=1,W=Object.create(null),J=null,B=!1,X={minFetchIntervalSeconds:43200};function z(t){t&&m.each(t,function(t){W[t.k]=t})}function Q(){var e=this;this.STORAGE_NAME=null;q.on(H,function(t){a().v("云配初始化开始...");e.init(t)})}Q.prototype={setDefaultValues:function(t){B&&m.isObject(t)&&m.each(t,function(t,e){W[e]&&W[e].v||(W[e]={v:t})})},getValue:function(e){a().v("从配置项中读取 value, 当前配置为: ",W);a().v("待读取的 key : ",e);try{if(!B)return;var t=W[e]||{};a().v("读取相应配置ing..., 结果为: ",t);if(m.isNumber(t.e)&&m.isNumber(t.g)){a().v("读取到相应配置, 开始数据上报...");!function(t){var e={appkey:y().appKey(),sdkType:u.getSdkType(),expId:t&&t.e,groupId:t&&t.g,clientTs:Date.now(),key:t&&t.k,value:t&&t.v,umid:g().getId()};try{u.request({url:_.ABLOG_URL,method:"POST",data:[e],success:function(t){t&&200===t.statusCode?a().v("上传数据成功",e):a().w("ablog 请求成功, 返回结果异常 ",t)},fail:function(t){a().w("ablog 请求数据错误 ",e,t)}})}catch(t){a().w("urequest 调用错误",t)}}(t)}return t.v}catch(t){a().w("getValue error, key: ",e)}},active:function(t){try{if(!B)return;var e,n;t&&t.params&&(e=t.params);t&&t.callback&&(n=t.callback);a().v("激活配置项: ",e);if(e){a().v("本地已缓存的配置项: ",W);z(e);a().v("合并后的配置项: ",W);n&&n(W);a().v("active 结束")}else{a().v("配置项为空!! 读取本地配置...");u.getStorage(this.STORAGE_NAME,function(t){if(t){z((t=m.JSONDecode(t)||{}).params);a().v("当前本地配置项为: ",W);n&&n(W);a().v("active 结束")}else a().v("当前本地配置项为空, 退出激活")})}}catch(t){a().w("SDK active 错误",t)}},init:function(t){if(t.appKey){J=t.appKey;this.STORAGE_NAME="um_remote_config_{{"+J+"}}"}if(J)if(B)a().w("SDK 已经初始化, 请避免重复初始化");else{B=!0;this.setOptions(t);this.active()}else a().err("请检查您的小程序 appKey, appKey 不能为空")},setOptions:function(t){if(m.isObject(t)){t=t.minFetchIntervalSeconds;m.isNumber(t)&&(X.minFetchIntervalSeconds=Math.max(t,5))}},fetch:function(t){if(B&&this.STORAGE_NAME){var i,r;t&&t.active&&(i=t.active);t&&t.callback&&(r=t.callback);var o=this;u.getStorage(this.STORAGE_NAME,function(t){a().v("开始读缓存 data is ",t);if((t=m.JSONDecode(t)||{}).params&&t.ts&&Date.now()-t.ts<1e3*X.minFetchIntervalSeconds){a().v("缓存数据存在, 并且本次触发时间距离上次fetch触发时间未超过 fetch 时间间隔, 无需 fetch");r&&r(t.params)}else x(function(e){a().v("缓存数据不存在, 构建 fetch body :",e);try{u.request({url:_.FETCH_URL,method:"POST",data:e,success:function(t){if(t&&200===t.statusCode&&t.data&&t.data.cc){a().v("fetch 请求成功, 响应数据: ",t.data);var e=Object.create(null);m.each(t.data.cc,function(t){e[t.k]=t});var n={ts:Date.now(),params:e};a().v("开始缓存 fetch 请求的云配置结果...");u.setStorage(o.STORAGE_NAME,m.JSONEncode(n),function(t){a().v("缓存云配置成功, 缓存数据为: ",n);a().v("缓存云配置成功, 成功消息为: ",t);a().v("云配拉取数据是否自动激活: ",i);if(t&&i){a().v("激活云配置...");o.active({params:e,callback:r})}})}else{a().w("fetch 请求成功,返回结果异常 ",t.data);r&&r()}},fail:function(t){a().w("fetch请求数据错误 ",e,t);r&&r()}})}catch(t){a().w("urequest调用错误",t)}})})}}};var Z,$=function(){return Z=Z||new et};function et(){var e=!1,n=null,i=[];this.addPageStart=function(t){if(t&&!e){n={ts:Date.now(),path:t,page_name:t};e=!0}};this.addPageEnd=function(t){if(e&&t&&n&&t===n.page_name){t=Date.now()-n.ts;n.duration=Math.abs(t);i.push(n);n=null;e=!1}};this.get=function(){return i};this.getCurrentPage=function(){return n};this.clear=function(){i.length=0}}var nt={};function it(){return function(t){var e,n=[];for(e in t)"_um_ssrc"!==e&&"_um_sts"!==e&&n.push(e+"="+t[e]);return n.join("&")}(nt)}var rt,ot,st,at=(ot=[],function(){return rt=rt||new ut});function ut(){return{add:function(t,e){a().v("share origin: %o",t);var n={title:t&&t.title,path:t&&t.path&&t.path.split("?")[0],_um_sts:Date.now()};n.path&&1<n.path.length&&d.startsWith(n.path,"/")&&(n.path=d.trimStart(n.path,"/"));var i=t.path||"",r=g().getId();if(r){var o=st.split(","),s=(o=o.filter(function(t){return 0<t.length})).indexOf(r);0<=s&&(o=o.slice(0,s));o.length<3&&o.push(r);r=o.join(",");-1!==i.indexOf("?")?i+="&_um_ssrc="+r:i+="?_um_ssrc="+r;o=Date.now();i+="&_um_sts="+o;if(e){e=it(),e=e?e+"&_um_ssrc="+r+"&_um_sts="+o:"_um_ssrc="+r+"&_um_sts="+o;t.query=t.query?t.query+"&_um_ssrc="+r+"&_um_sts="+o:e}else t.path=i;n._um_ssrc=r;n._um_sts=o}ot.push(n);a().v("share: %o",t);return t},setShareSource:function(t){st=t},clear:function(){ot.length=0},get:function(){return ot}}}var ct,ft,pt,dt,lt="ekvs",ht=1e4,gt=(pt=[],function(){return ct=ct||{addEvent:function(t){if(ft){pt.unshift(t);if(1<pt.length){yt();pt.length=0}}else{a().w("session id is null: ",ft);dt.unshift(t)}},setSessionId:function(t){ft=t;a().v("setSessionId: ",ft);if(Array.isArray(dt)&&dt.length&&ft){for(var e=0;e<dt.length;e++)this.addEvent(dt[e]);dt.length=0}},getEkvs:function(){var t=N().get(lt);pt&&pt.length&&(t=vt(t,pt));return t},clear:function(){N().remove(lt);pt.length=0}}});function yt(){if(pt.length){var t=N().get(lt);if(function(t){var e,n=0;for(e in t)Array.isArray(t[e])&&(n+=t[e].length);return n}(t)+pt.length<=ht){t=vt(t,pt);N().set(lt,t)}}}function vt(t,e){var n=(t=t||{})[ft];Array.isArray(n)&&n.length?t[ft]=n.concat(e):t[ft]=[].concat(e);return t}var _t,mt="2g",St="3g",It="4g",Ot={HALF_SESSION:"half_session",CLOSE_SESSION:"close_session",EKV:"ekv",ENTER_PAGE:"enter_page",LEAVE_PAGE:"leave_page"},Et=["access","access_subtype"],At={instance:function(){return _t=_t||Nt()}};function Nt(){var t=!1,o={};function e(n){var t=N().get(c.IMPRINT);t&&(o.imprint=t);o.device_type="Phone";o.sdk_version=c.IMPL_VERSION;o.appkey=y().appKey();u.getDeviceInfo(function(t){o.device_info=t||""});t=u.getAppInfoSync();o.appid=t.appId;o.app_env=t.appEnv;o.app_version=t.appVersion;u.getSystemInfo(function(e){u.getNetworkInfo(function(t){t=function(t,e){var n={},i=(e=e||{}).networkType;"none"===i&&(i="unknown");var r=t.model||"",o=t.platform||"",s=t.brand||"",e=s.toLowerCase();n.sdk_type=u.getSdkType();n.platform=u.getPlatform();n.platform_sdk_version=t.platformSDKVersion;n.platform_version=t.platformVersion;n.resolution=t.resolution;n.pixel_ratio=t.pixelRatio;n.os=o;n.font_size_setting=t.fontSizeSetting;n.device_model=r;n.device_brand=s;n.device_manufacturer=e;n.device_manuid=r;n.device_name=r;n.os_version=t.OSVersion;n.language=t.language;switch(i=i?i.toLowerCase():""){case It:n.access_subtype="LTE";n.access="4G";break;case St:n.access_subtype="CDMA";n.access="3G";break;case mt:n.access_subtype="GRPS";n.access="2G";break;default:n.access=i;delete n.access_subtype}return n}(e,t);d.assign(o,t);!function(t){var e=[];if(t){e.push({name:"系统名",value:o.platform});e.push({name:"支付宝版本号",value:o.platform_version})}e.push({name:"设备型号",value:o.device_model});e.push({name:"设备生产商",value:o.device_brand});e.push({name:"os版本号",value:o.os_version});e.push({name:"网络类型",value:o.access});e.push({name:"运营商",value:o.access_subtype});e.push({name:"分辨率",value:o.resolution});e.push({name:"pixelRatio",value:o.pixel_ratio});for(var n="",i=0;i<e.length;i++){var r=e[i];n+=r.name+": "+r.value+"; "}a().v("调试辅助信息: ",n)}();n&&n()})})}return{init:function(){e(function(){t=!0})},isLoaded:function(){return t},get:function(){return o},getRealtimeFields:function(){var e={};Et.forEach(function(t){e[t]=o[t]});return e},setIdTracking:function(t){this.setItem("id_tracking",t)},setIdType:function(t){this.setItem("id_type",t)},setAppVersion:function(t){this.setItem("app_version",t)},setSuperProperty:function(t){o.sp||(o.sp={});o.sp.isv=t},getSuperProperty:function(){return o&&o.sp?o.sp.isv:""},setItem:function(t,e){o[t]=e},getItem:function(t){return o[t]}}}var Tt,Rt,kt,Ut=function(){return Tt=Tt||bt()};function bt(){return{resume:function(t){var e=!1;kt=kt||N().get(c.CURRENT_SESSION);var n=new Date;Rt=n.getTime();if(!kt||!kt.end_time||Rt-kt.end_time>c.SESSION_INTERVAL){e=!0;!function(t){try{var e=(kt||{}).options||{},n=d.assign({},function(t){var e,n={};for(e in t)0===e.indexOf("_um_")&&(n[e]=t[e]);a().v("query: ",t);a().v("_um_params: ",n);return n}(t.query));n.path=t.path||e.path;n.scene=t.scene?u.getPlatform()+"_"+t.scene:e.scene;e=t.referrerInfo;e&&(n.referrerAppId=e.appId);a().v("session options: ",n);e=n[c.UM_SSRC];e&&at().setShareSource(e);e=Date.now();kt={id:d.getRandomStr(10)+e,start_time:e,options:n}}catch(t){a().e("生成新session失败: ",t)}}(t);a().v("开始新的session(%s): ",kt.id,kt)}else a().v("延续上一次session(%s): %s ",kt.id,n.toLocaleTimeString(),kt);return e},pause:function(){!function(){if(kt){var t=new Date;kt.end_time=t.getTime();"number"!=typeof kt.duration&&(kt.duration=0);kt.duration=kt.end_time-Rt;N().set(c.CURRENT_SESSION,kt);a().v("退出会话(%s): %s ",kt.id,t.toLocaleTimeString(),kt)}}()},getCurrentSessionId:function(){return(kt||{}).id},getCurrentSession:function(){return kt},cloneCurrentSession:function(){return d.clone(kt)}}}function wt(t){var e=null;switch(t){case Ot.HALF_SESSION:e=function(){var t=null,e=Ut().cloneCurrentSession();e&&(t={header:{st:"1"},analytics:{sessions:[e]}});return t}();break;case Ot.CLOSE_SESSION:e=function(){var t=null,e={},n=Ut().cloneCurrentSession();if(n){var i=$().get(),r=at().get();Array.isArray(i)&&i.length&&(n.pages=d.clone(i));Array.isArray(r)&&r.length&&(n.shares=d.clone(r));$().clear();at().clear();e.sessions=[n]}n=gt().getEkvs();if(n){e.ekvs=d.clone(n);gt().clear()}(e.sessions||e.ekvs)&&(t={analytics:e});return t}();break;case Ot.EKV:e=function(){var t=null,e=gt().getEkvs();if(e){t={analytics:{ekvs:d.clone(e)}};gt().clear()}return t}()}return e}var Dt={sessions:"sn",ekvs:"e",active_user:"active_user"},Lt={sdk_type:"sdt",access:"ac",access_subtype:"acs",device_model:"dm",language:"lang",device_type:"dt",device_manufacturer:"dmf",device_name:"dn",platform_version:"pv",id_type:"it",font_size_setting:"fss",os_version:"ov",device_manuid:"did",platform_sdk_version:"psv",device_brand:"db",appkey:"ak",_id:"id",id_tracking:"itr",imprint:"imp",sdk_version:"sv",resolution:"rl",testToken:"ttn"},Pt={uuid:"ud",unionid:"und",openid:"od",anonymousid:"nd",alipay_id:"ad",device_id:"dd",userid:"puid"};function Mt(t){return{h:function(t,e){var n=Ct(t,e);t&&t.id_tracking&&(n[e.id_tracking||"id_tracking"]=Ct(t.id_tracking,Pt));return n}(t.header,Lt),a:function(t,e){var n={};if(t)for(var i in t)t[i]&&(n[e[i]]=t[i]);return n}(t.analytics,Dt)}}function Ct(t,e){var n,i={};for(n in t)e[n]?i[e[n]]=t[n]:i[n]=t[n];return i}var Vt=st="";function jt(n,i,r,t){At.instance().setIdType(g().getIdType());At.instance().setIdTracking(g().getIdTracking());var e=g().getUserId();e&&n.analytics&&(n.analytics.active_user={puid:e,provider:g().getProvider()});e=d.clone(At.instance().get());n.header=d.assign(e,n.header,{ts:Date.now(),testToken:Vt,traceId:d.getRandomStr(10)+Date.now()+d.getRandomStr(9)});var e=Mt(n),o=A.stringify(e),e={url:c.LOG_URL,method:"POST",data:j.encode(o),success:function(t){var e=t.code||t.status||t.statusCode;if(200===e||413===e){a().i("数据发送成功: ",n,o);!function(t){if(t){At.instance().setItem(c.IMPRINT,t);G.set(t);G.save();a().v("imprint: ",G.getImpObj());G.getItem("ttn_invalid")&&(Vt="")}}((t.data||{}).imprint);"function"==typeof i&&i(t)}else{a().w("数据发送失败: ",o);"function"==typeof r&&r()}},fail:function(t){a().w("超时: ",o);"function"==typeof r&&r()},complete:function(){"function"==typeof t&&t()}};u.request(d.assign(e,{header:{"Content-Type":e=u.getSdkType()+"/json","Msg-Type":e}}))}function Gt(t){var e=t,n=[];this.enqueue=function(t){"number"==typeof e&&this.size()>=e&&this.dequeue();n.push(t)};this.dequeue=function(){return n.shift()};this.front=function(){return n[0]};this.isEmpty=function(){return 0===n.length};this.clear=function(){n.length=0};this.size=function(){return n.length};this.items=function(){return n};this.print=function(){console.log(n.toString())}}var Kt,xt,Ft,qt,Ht=(Kt=kt=Rt=Tt=_t=rt=Z=null,xt=!(dt=[]),Ft=[],qt=new Gt(50),function(){return Kt=Kt||new Jt});function Yt(e){var t=qt.front();if(t)jt(t,function(){qt.dequeue();Yt(e)},function(){var t=qt.dequeue();t&&!t.noCache&&Ft.push(t);Yt(e)});else{!function(){Ft.forEach(function(t){qt.enqueue(t)});Ft.length=0}();e()}}function Wt(t){if(g().getId())if(xt)a().i("队列正在发送中");else{xt=!0;Yt(function(){xt=!1;"function"==typeof t&&t()})}else{a().i("获取id标识失败，暂缓发送");"function"==typeof t&&t()}}function Jt(){this.send=function(t,e,n){t?this.add(t,e,function(){Wt(n)}):Wt(n)};this.add=function(t,e,n){!function t(e,n,i){if(At.instance().isLoaded()){n=n||{};var r=wt(e);if(r){var o=At.instance().getRealtimeFields();r.header=d.assign({},r.header,o);r.noCache=n.noCache;qt.enqueue(r)}"function"==typeof i&&i()}else setTimeout(function(){t(e,n,i)},100)}(t,e,n)};this.load=function(){var t=N().get(c.REQUESTS);t&&t.length&&t.forEach(function(t){qt.enqueue(t)});N().remove(c.REQUESTS)};this.save=function(){N().set(c.REQUESTS,d.clone(qt.items()));qt.clear()}}var Bt,Xt=(Bt=null,function(){return Bt=Bt||new zt});function zt(){this.update=function(){u.getUserInfo(function(e){if(e){var t=N().get(c.USER_INFO);t&&d.deepEqual(e,t)||function(e,n){var t=y().appKey(),i=u.getSdkType(),r=g().getId(),o=g().getIdType();if(!(t&&i&&r&&o))return;o={ak:y().appKey(),sdt:u.getSdkType(),uin:e.nickName,uia:e.avatar,uig:e.gender,uit:e.country,uip:e.province,uic:e.city,uil:e.language,id:g().getId(),it:g().getIdType()},o=JSON.stringify(o);o=j.encode(o);u.request({url:c.USERINFO_URL,method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:"ui="+o,success:function(t){a().v("用户信息上传成功: ",e);n&&n(t&&t.data&&200===t.data.code)},fail:function(){a().e("用户信息上传失败: ",e);n&&n(!1)}})}(e,function(t){t&&N().set(c.USER_INFO,e)})}})}}function Qt(t,e){this.id=t;this.ts=Date.now();var n=typeof e;if("string"==n&&e)this[t]=e;else if("object"==n)for(var i in e)!{}.hasOwnProperty.call(e,i)||(this[i]=e[i])}function Zt(){var r=!1,n=!1,o=0;this.init=function(t){a().v("sdk version: "+c.IMPL_VERSION);r?a().v("Lib重复实例化"):N().load(function(){a().v("cache初始化成功: ",N().getAll());!function(){g().setUseOpenid&&g().setUseOpenid(y().useOpenid());g().init(function(){At.instance().init();a().v("Header初始化成功")})}();r=!0;"function"==typeof t&&t();a().tip("SDK集成成功")})};this.resume=function(t){if(r&&!n){a().v("showOptions: ",t);var e;n=!0;y().enableVerify()&&t&&t.query&&(e=t.query._ttn,Vt=e||Vt);this._resume(t)}};this._resume=function(t){Ht().load();var e=Ut().resume(t),t=Ut().getCurrentSessionId();gt().setSessionId(t);e&&Ht().add(Ot.HALF_SESSION,{},function(){g().setUseOpenid&&g().setUseOpenid(y().useOpenid());if(y().useOpenid()&&y().autoGetOpenid()&&!g().getId()){a().v("get id async");!function e(n,i){if(g().getId()||n<=0)return;g().getOpenIdAsync(y().appKey(),function(t){if(t){a().v("获取id成功");Ht().send()}else{a().v("获取openid失败,启动重试,剩余可用次数",n-1);setTimeout(function(){e(n-1,i)},i)}})}(10,3e3)}else{a().v("session auto send");Ht().send()}})};this.pause=function(t){if(r){n=!1;o=0;Ut().pause();y().uploadUserInfo()&&Xt().update();Ht().send(Ot.CLOSE_SESSION,{},function(){Ht().save();N().save();a().v("cache save success");"function"==typeof t&&t()})}};this.setOpenid=function(t){a().v("setOpenId: %s",t);g().setOpenid(t);Ht().send()};this.setUnionid=function(t){a().v("setUnionid: %s",t);g().setUnionid(t)};this.setUserid=function(t,e){a().v("setUserid: %s",t,e);g().setUserid(t,e)};this.setAnonymousid=function(t){a().v("setAnonymousId: %s",t);g().setAnonymousid(t);Ht().send()};this.setAppVersion=function(t){t&&"string"!=typeof t?a().w("setAppVersion方法只接受字符串类型参数"):At.instance().setAppVersion(t)};this.setAlipayUserid=function(t){if(t&&"string"!=typeof t)a().w("setAlipayUserid方法只接受字符串类型参数");else{a().v("setAlipayUserid: %s",t);g().setAlipayUserid(t)}};this.setSuperProperty=function(t){if(t&&"string"!=typeof t)a().w("超级属性只支持字符串类型");else{var e=this;if(At.instance().getSuperProperty()!==t){At.instance().setSuperProperty(t);e.pause(function(){e.resume()})}}};this.trackEvent=function(t,e){if(r){a().v("event: ",t,e);if(function(t,e){if(t&&"string"==typeof t){var n=["id","ts","du"],i={};n.forEach(function(t){i[t]=1});if(i[t])a().e("eventId不能与以下保留字冲突: "+n.join(","));else if(t.length>c.MAX_EVENTID_LENGTH)a().e("The maximum length of event id shall not exceed "+c.MAX_EVENTID_LENGTH);else{if(!e||"object"==typeof e&&!Array.isArray(e)||"string"==typeof e){if("object"==typeof e){var r,o=0;for(r in e)if({}.hasOwnProperty.call(e,r)){if(r.length>c.MAX_PROPERTY_KEY_LENGTH){a().e("The maximum length of property key shall not exceed "+c.MAX_PROPERTY_KEY_LENGTH);return}if(o>=c.MAX_PROPERTY_KEYS_COUNT){a().e("The maximum count of properties shall not exceed "+c.MAX_PROPERTY_KEYS_COUNT);return}if(i[r]){a().e("属性中的key不能与以下保留字冲突: "+n.join(","));return}o+=1}}return 1}a().e("please check trackEvent properties. properties should be string or object(not include Array)")}}else a().e('please check trackEvent id. id should be "string" and not null')}(t,e)){var n=new Qt(t,e);gt().addEvent(n);var i=!!Vt,t=i?0:c.EVENT_SEND_DEFAULT_INTERVAL,e=Date.now();if(n=e,t=t,"number"!=typeof o||"number"!=typeof t||(o<=0||t<n-o)){o=e;Ht().send(Ot.EKV,{noCache:i},function(){})}}}};this.trackShare=function(t){if(r){try{if(-1<u.getSdkType().indexOf("game")){t=at().add(t,!0);a().v("shareQuery: ",t)}else{t=at().add(t,!1);a().v("sharePath: ",t.path)}}catch(t){a().v("shareAppMessage: ",t)}return t}};this.trackPageStart=function(t){r&&$().addPageStart(t)};this.trackPageEnd=function(t){r&&$().addPageEnd(t)};this.onShareAppMessage=function(t){var e=this;u.onShareAppMessage(function(){return e.trackShare(t())})};this.shareAppMessage=function(t){this.trackShare(t);u.shareAppMessage(t)}}var $t=[];function te(){}te.prototype={createMethod:function(t,e,n){try{t[e]=n&&n[e]?function(){return n[e].apply(n,arguments)}:function(){$t.push([e,[].slice.call(arguments)])}}catch(t){a().v("create method errror: ",t)}},installApi:function(t,e){try{for(var n="resume,pause,trackEvent,trackPageStart,trackPageEnd,trackShare,setUserid,setOpenid,setAnonymousid,onShareAppMessage,shareAppMessage".split(","),i=0,r=n.length;i<r;i++)this.createMethod(t,n[i],e);if(e)for(i=0,r=$t.length;i<r;i++){var o=$t[i];try{e[o[0]].apply(e,o[1])}catch(t){a().v("impl[v[0]].apply error: ",o[0],t)}}}catch(t){a().v("install api errror: ",t)}}};var ee=["https://umini.shujupie.com","https://ulogs.umeng.com"],ne=0;function ie(e,t){if(e>=ee.length||t){t&&function(){var t="https://umini.shujupie.com";c.LOG_URL=c.LOG_URL.replace(t,ee[ne]);c.GET_OPENID_URL=c.GET_OPENID_URL.replace(t,ee[ne]);c.USERINFO_URL=c.USERINFO_URL.replace(t,ee[ne])}();t&&a().v("命中可用服务",ee[ne]);t||a().tip_w("未命中可用服务")}else u.request({url:ee[e]+"/uminiprogram_logs/ckdh",success:function(t){200===(t.code||t.status||t.statusCode)&&t.data&&200===t.data.code?ie((ne=e)+1,!0):ie(e+1,!1)},fail:function(){ie(e+1,!1)}})}({init:function(t){setTimeout(function(){ie(0,!1)},t)}}).init(3e3);var re=new te,oe={_inited:!1,init:function(t){if(this._inited)a().v("已经实例过，请避免重复初始化");else if(t)if(t.appKey){"boolean"!=typeof t.useOpenid&&(t.useOpenid=!0);y().set(t);a().setDebug(t.debug);this._inited=!0;var e=this;q.emit(H,t);try{var n=new Zt;a().v("成功创建Lib对象");n.init(function(){a().v("Lib对象初始化成功");re.installApi(e,n);a().v("安装Lib接口成功");q.emit(Y,t)})}catch(t){a().w("创建Lib对象异常: "+t)}}else a().err("请确保传入正确的appkey");else a().err("请正确设置相关信息！")}};try{re.installApi(oe,null)}catch(t){a().w("uma赋值异常: ",t)}tt.onShow(function(t){a().v("game onShow: ",t);e=t.query,nt=e;var e;oe.resume(t,!0)});tt.onHide(function(){a().v("game onHide");oe.pause()});var se=oe.init;oe.init=function(t){if(t&&t.useOpenid){a().tip_w("!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!");a().tip_w("您选择了使用openid进行统计，请确保使用setOpenid回传openid或通过设置autoGetOpenid为true，并在友盟后台设置secret由友盟帮您获取");a().tip_w("!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!")}se.call(oe,t)};l=new Q;!function(t,e,n){if("object"==typeof t){if("string"==typeof e&&e.length)t[e]=n;else for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t[i]){a().v("方法已定义，无法注入此插件方法: ",i);return}n[i]&&(t[i]=function(){n[i](arguments)})}}else a().v("插件安装失败，宿主对象不能为空")}(oe,"rc",l);tt.uma=oe;module.exports=oe;
